# IP Blocker Manager

Безопасное управление блокировкой IP-адресов через автоматическое изменение файла `.htaccess`.

## Описание

Плагин предоставляет удобный интерфейс в админ-панели WordPress для добавления, удаления и управления правилами блокировки IP-адресов в файле `.htaccess`. Все операции выполняются безопасно с созданием резервных копий и откатом при ошибках.

## Основные возможности

-   **Безопасное редактирование .htaccess**: Автоматическое добавление и удаление правил `deny from` между специальными маркерами.
-   **Валидация IP-адресов**: Автоматическая проверка корректности вводимых IP-адресов.
-   **Удаление дубликатов**: Автоматическое удаление повторяющихся IP-адресов из списка.
-   **Резервное копирование**: Создание резервных копий `.htaccess` перед каждым изменением.
-   **Автоматический откат**: В случае ошибки записи плагин автоматически восстанавливает предыдущую рабочую версию файла.
-   **Визуальный редактор**: Текстовое поле с нумерацией строк для удобного редактирования списка IP.
-   **Журнал операций**: Детальный лог всех выполненных действий.
-   **Статус системы**: Отображение информации о правах доступа к файлам и наличии резервных копий.

## Установка

1.  Загрузите файл `ip-blocker.php` в папку `/wp-content/plugins/`.
2.  Активируйте плагин через меню 'Плагины' в админ-панели WordPress.
3.  Перейдите в раздел `Настройки` -> `IP Блокер`.

## Использование

1.  В текстовом поле введите по одному IP-адресу на каждой строке.
2.  Нажмите «Сохранить изменения» для применения правил.
3.  Плагин автоматически:
    -   Создаст резервную копию текущего `.htaccess`
    -   Проверит и отфильтрует IP-адреса
    -   Обновит файл `.htaccess`
    -   Покажет подробный журнал выполненных операций

**Важно:** Убедитесь, что файл `.htaccess` доступен для записи веб-сервером.

## Безопасность

-   Для использования плагина требуются права `manage_options`.
-   Все операции защищены nonce-проверкой.
-   При деактивации плагина все добавленные им правила блокировки автоматически удаляются из `.htaccess`.

## Версия

1.2